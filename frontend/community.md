# ğŸ“‚ ëª©ë¡

- ğŸ—ï¸ [íì§€ëœ ì»¤ë®¤ë‹ˆí‹° ê¸°ëŠ¥](./community.md)

---

# ğŸ—ï¸ íì§€ëœ ì»¤ë®¤ë‹ˆí‹° ê¸°ëŠ¥

ì‚¬ìš©ì ê¸°ëŠ¥ ì¶”ê°€ì™€ í•¨ê»˜ ì»¤ë®¤ë‹ˆí‹°ë¥¼ ë„ì…í•˜ìëŠ” ë…¼ì˜ê°€ ìˆì—ˆê³ , ì‹¤ì œë¡œ ì§§ì€ ê¸°ê°„ ë™ì•ˆ ìš´ì˜ë˜ì—ˆë˜ ì»¤ë®¤ë‹ˆí‹° ê¸°ëŠ¥ì…ë‹ˆë‹¤.

---

# ğŸ“„ ê²Œì‹œê¸€ ê¸°ëŠ¥

## ğŸ“Œ ì£¼ìš” ê¸°ëŠ¥

1. **ì¹´í…Œê³ ë¦¬ë³„ ê²Œì‹œíŒ ë¶„ë¥˜**
2. **ì¢‹ì•„ìš” / ì‹«ì–´ìš”**
3. **ì¡°íšŒìˆ˜**
4. **ì‘ì„± / ìˆ˜ì • / ì‚­ì œ**
5. **ì¸ê¸°ê¸€ ì‹œìŠ¤í…œ**
6. **ì‹ ê³  ê¸°ëŠ¥**

---

## ğŸ—‚ï¸ ê²Œì‹œíŒ ì¹´í…Œê³ ë¦¬

ì´ 6ê°œì˜ ì¹´í…Œê³ ë¦¬ë¡œ êµ¬ì„±ë˜ì–´ ìˆìœ¼ë©°,  
**ê° ì¹´í…Œê³ ë¦¬ë§ˆë‹¤ ë³„ë„ì˜ í…Œì´ë¸”**ì— ë°ì´í„°ë¥¼ ì €ì¥í•˜ëŠ” êµ¬ì¡°ì…ë‹ˆë‹¤.

- `Arena`
- `PVE`
- `PVP`
- `Tip`
- `Forum`
- `Question`

> ğŸ“· _Tip ì¹´í…Œê³ ë¦¬ í…Œì´ë¸” êµ¬ì¡° ì´ë¯¸ì§€ (ì¶”í›„ ì‚½ì…)_

---

## ğŸ‘ ì¢‹ì•„ìš” / ğŸ‘ ì‹«ì–´ìš”

- **ì¢‹ì•„ìš”ë§Œ DBì— ì €ì¥**ë˜ë©°,
- ì‹«ì–´ìš”ëŠ” ë³„ë„ ì €ì¥í•˜ì§€ ì•Šê³ , **ì¢‹ì•„ìš” ìˆ˜ë¥¼ ê°ì†Œì‹œí‚¤ëŠ” ë°©ì‹**ìœ¼ë¡œ ì²˜ë¦¬í•©ë‹ˆë‹¤.
- **ì‹«ì–´ìš” ê°œìˆ˜ëŠ” UIì— í‘œì‹œí•˜ì§€ ì•ŠìŠµë‹ˆë‹¤.** (ì‚¬ìš©ì ë°˜ê°ì„ ì¤„ì´ê¸° ìœ„í•¨)

> ğŸ“· _ê²Œì‹œê¸€ UI ì´ë¯¸ì§€ (ì¶”í›„ ì‚½ì…)_

---

## ğŸ”¥ ì¸ê¸°ê¸€ ì‹œìŠ¤í…œ

### âœ… ì¸ê¸°ê¸€ ì„ ì • ì¡°ê±´

- **ì¢‹ì•„ìš” ìˆ˜ â‰¥ 10**ì¼ ê²½ìš° ì¸ê¸°ê¸€ë¡œ ì§€ì •í•©ë‹ˆë‹¤.
- **ì¹´í…Œê³ ë¦¬ êµ¬ë¶„ ì—†ì´ í†µí•© ê´€ë¦¬**í•©ë‹ˆë‹¤.
- ì¸ê¸°ê¸€ì€ **ë³„ë„ì˜ í…Œì´ë¸”ì—ì„œ ê´€ë¦¬**í•©ë‹ˆë‹¤.
- ì‚¬ìš©ìì—ê²ŒëŠ” **ì¸ê¸°ê¸€ ì „ìš© í˜ì´ì§€** ë˜ëŠ” **ì¸ê¸°ê¸€ í•„í„°**ë¡œ ì œê³µí•©ë‹ˆë‹¤.
- **Airflowë¥¼ í†µí•´ 1ì‹œê°„ ì£¼ê¸°ë¡œ í†µê³„ ì‚°ì¶œ**

> ğŸ“· _ì¸ê¸°ê¸€ UI ì´ë¯¸ì§€ (ì¶”í›„ ì‚½ì…)_

---

## ğŸ‘ï¸ ì¡°íšŒìˆ˜ / âœ ì‘ì„±Â·ìˆ˜ì •Â·ì‚­ì œ / ğŸš¨ ì‹ ê³  ê¸°ëŠ¥

### ğŸ‘ï¸ ì¡°íšŒìˆ˜ ì²˜ë¦¬

- **ì¤‘ë³µ ì¡°íšŒ ë°©ì§€ë¥¼ ìœ„í•´ `localStorage` ì‚¬ìš©**
- ì¡°íšŒ ì´ë ¥ì´ ì—†ëŠ” ê²½ìš°ì—ë§Œ FastAPIì— ìš”ì²­í•˜ì—¬ ì¡°íšŒìˆ˜ ì¦ê°€

ğŸ”— ìì„¸í•œ ë‚´ìš©:  
[LocalStorageì™€ ì—°ê³„í•œ ì¡°íšŒìˆ˜ ê¸°ëŠ¥(ì‘ì„±ì¤‘)](./community.md)

---

### âœ ì‘ì„± / ìˆ˜ì • / ì‚­ì œ

- **ì‚¬ìš©ì ì¸ì¦ì€ Headerì— ë‹´ê¸´ JWT Tokenìœ¼ë¡œ ì²˜ë¦¬**í•©ë‹ˆë‹¤.
- ê²Œì‹œê¸€ ì‘ì„±ìì™€ Token ì •ë³´ê°€ ì¼ì¹˜í•  ê²½ìš°ì—ë§Œ ìˆ˜ì •/ì‚­ì œ ê°€ëŠ¥í•©ë‹ˆë‹¤.

ğŸ”— ìì„¸í•œ ë‚´ìš©:  
[ì‘ì„±, ìˆ˜ì •, ì‚­ì œ(ì‘ì„±ì¤‘)](./community.md)

---

### ğŸš¨ ì‹ ê³  ê¸°ëŠ¥

- **ê²Œì‹œê¸€ ID ë° ì‹ ê³  ì‚¬ìœ ë¥¼ ìˆ˜ì‹ í•˜ì—¬ DBì— ì €ì¥í•˜ëŠ” ê°„ë‹¨í•œ CRUD API**

ì‹ ê³  ìš”ì²­ ì˜ˆì‹œ:

```json
POST /api/board/report
{
"post_id": 123,
"reason": "ìš•ì„¤ í¬í•¨"
}
```

---

# ğŸ’¬ ëŒ“ê¸€ ê¸°ëŠ¥

## ì£¼ìš” ê¸°ëŠ¥

1. **ì¢‹ì•„ìš” / ì‹«ì–´ìš”**
2. **ì‘ì„± / ìˆ˜ì • / ì‚­ì œ**
3. **ì‹ ê³ **
4. **ì´ëª¨í‹°ì½˜**
5. **ëŒ€ëŒ“ê¸€**

---

## ğŸ‘ ì¢‹ì•„ìš” / ğŸ‘ ì‹«ì–´ìš”

- ëŒ“ê¸€ì˜ ì¢‹ì•„ìš”/ì‹«ì–´ìš”ëŠ” ì‚¬ìš©ìì—ê²Œ **ëª¨ë‘ ë…¸ì¶œ**ë˜ë©°,
- ì‚¬ìš©ì ë°˜ê°ì´ ì ì„ ê²ƒìœ¼ë¡œ íŒë‹¨í•˜ì—¬ UIì— í‘œì‹œí•˜ê²Œ ë˜ì—ˆìŠµë‹ˆë‹¤.

---

## âœ ì‘ì„±Â·ìˆ˜ì •Â·ì‚­ì œ / ğŸš¨ ì‹ ê³  ê¸°ëŠ¥

- **ê¸°ë³¸ì ìœ¼ë¡œ ê²Œì‹œê¸€ê³¼ ë™ì¼í•œ ë°©ì‹**ìœ¼ë¡œ ì²˜ë¦¬ë©ë‹ˆë‹¤.

---

## ğŸ˜€ ì´ëª¨í‹°ì½˜ ê¸°ëŠ¥

- ëŒ“ê¸€ì— **ì´ëª¨í‹°ì½˜ ê¸°ëŠ¥ì€ ê¼­ ë„£ê³  ì‹¶ì—ˆë˜ ìš”ì†Œ**ì˜€ìŠµë‹ˆë‹¤.
- ëŒ“ê¸€ì„ ë³´ë‹¤ **ë‹¤ì±„ë¡­ê³  ìœ ì¾Œí•˜ê²Œ ë§Œë“œëŠ” íš¨ê³¼**ê°€ ìˆë‹¤ê³  íŒë‹¨í•˜ì˜€ìŠµë‹ˆë‹¤.

ğŸ”— ìì„¸í•œ ë‚´ìš©:  
[ëŒ“ê¸€ê³¼ ì´ëª¨í‹°ì½˜](./community.md)

---

## ğŸ’¬ ëŒ€ëŒ“ê¸€ ê¸°ëŠ¥

- **ê°€ì¥ êµ¬í˜„ì´ ë³µì¡í–ˆë˜ ê¸°ëŠ¥ ì¤‘ í•˜ë‚˜**
- ì²˜ìŒì—ëŠ” ë‹¨ìˆœí•  ê²ƒ ê°™ì•˜ì§€ë§Œ, ìƒê°ë³´ë‹¤ **êµ¬ì¡°ì ìœ¼ë¡œ ë§ì€ ê³ ë¯¼ì´ í•„ìš”í–ˆìŠµë‹ˆë‹¤.**
- `Closure Table`, `Adjacency List`ë¥¼ í•™ìŠµí•˜ë©° êµ¬ì¡°ë¥¼ ì„¤ê³„í–ˆìŠµë‹ˆë‹¤.
- **ìµœì¢…ì ìœ¼ë¡œëŠ” Adjacency List + Recursive ì¿¼ë¦¬** ë°©ì‹ìœ¼ë¡œ êµ¬í˜„í–ˆìŠµë‹ˆë‹¤.

> êµ¬í˜„ ì´í›„ ì¿¼ë¦¬ê°€ ë³µì¡í•´ì§€ëŠ” ë¬¸ì œë¡œ ì¸í•´ ë‹¤ìŒì—ëŠ” ìœ ì§€ë³´ìˆ˜ê°€ ë” ì‰¬ìš´ êµ¬ì¡°ë¡œ ìƒˆë¡­ê²Œ ë§Œë“¤ ì˜ˆì •ì…ë‹ˆë‹¤.

```python
    def get_comment_query():
        """
        íŠ¹ì • ê²Œì‹œê¸€ ëŒ“ê¸€ ì „ì²´ ì¡°íšŒ ì¿¼ë¦¬
        """

        return """
                WITH RECURSIVE comment_tree AS (
                SELECT
                    tkl_comments.ID,
                    tkl_comments.BOARD_ID,
                    tkl_comments.USER_EMAIL,
                    tkl_comments.BOARD_TYPE,
                    tkl_comments.PARENT_ID,
                    CASE
                        WHEN tkl_comments.is_delete_by_admin THEN '<p>í•´ë‹¹ ëŒ“ê¸€ì€ ê´€ë¦¬ ê·œì •ì— ë”°ë¼ ì‚­ì œë˜ì—ˆìŠµë‹ˆë‹¤.</p>'
                        WHEN tkl_comments.is_delete_by_user THEN '<p>í•´ë‹¹ ëŒ“ê¸€ì€ ì‘ì„±ìì— ì˜í•´ ì‚­ì œë˜ì—ˆìŠµë‹ˆë‹¤.</p>'
                        ELSE tkl_comments.CONTENTS
                    END AS CONTENTS,
                    tkl_comments.DEPTH,
                    tkl_comments.CREATE_TIME,
                    tkl_comments.UPDATE_TIME,
                    tkl_comments.is_delete_by_admin,
                    tkl_comments.is_delete_by_user,
                    tkl_comments.like_count,
                    tkl_comments.dislike_count,
                    tkl_comments.ID AS root_id,
                    ARRAY[tkl_comments.ID] AS path,
                    tkl_comments.CREATE_TIME AS root_create_time,
                    a.nick_name,
                    a.icon,
                    b.nick_name as parent_nick_name
                FROM TKL_COMMENTS
                LEFT JOIN TKL_USER a ON tkl_comments.user_email = a.email
                LEFT JOIN TKL_USER b ON tkl_comments.parent_user_email = b.email
                WHERE DEPTH = 1 AND board_id = :board_id
                UNION ALL
                SELECT
                    c.ID,
                    c.BOARD_ID,
                    c.USER_EMAIL,
                    c.BOARD_TYPE,
                    c.PARENT_ID,
                    CASE
                        WHEN c.is_delete_by_admin THEN '<p>í•´ë‹¹ ëŒ“ê¸€ì€ ê´€ë¦¬ ê·œì •ì— ë”°ë¼ ì‚­ì œë˜ì—ˆìŠµë‹ˆë‹¤.</p>'
                        WHEN c.is_delete_by_user THEN '<p>í•´ë‹¹ ëŒ“ê¸€ì€ ì‘ì„±ìì— ì˜í•´ ì‚­ì œë˜ì—ˆìŠµë‹ˆë‹¤.</p>'
                        ELSE c.CONTENTS
                    END AS CONTENTS,
                    c.DEPTH,
                    c.CREATE_TIME,
                    c.UPDATE_TIME,
                    c.is_delete_by_admin,
                    c.is_delete_by_user,
                    c.like_count,
                    c.dislike_count,
                    ct.root_id,
                    ct.path || c.ID,
                    ct.root_create_time,
                    a.nick_name,
                    a.icon,
                    b.nick_name as parent_nick_name
                FROM TKL_COMMENTS c
                INNER JOIN comment_tree ct ON c.PARENT_ID = ct.ID
                INNER JOIN TKL_USER a ON c.user_email = a.email
                INNER JOIN TKL_USER b ON c.parent_user_email = b.email
                WHERE c.board_id = :board_id
            )
            SELECT
                ct.*,
                CASE
                    WHEN tcl.comment_id IS NOT NULL THEN true
                    ELSE false
                END AS is_liked_by_user,
                CASE
                    WHEN tcdl.comment_id IS NOT NULL THEN true
                    ELSE false
                END AS is_disliked_by_user,
                b.ban_reason,
                b.ban_start_time,
                b.ban_end_time
            FROM
                comment_tree ct
            LEFT JOIN
                tkl_comment_like tcl
                ON ct.id = tcl.comment_id AND tcl.user_email = :user_email
            LEFT JOIN
                tkl_comment_dislike tcdl
                ON ct.id = tcdl.comment_id AND tcdl.user_email = :user_email
            LEFT JOIN
                tkl_user_ban b
                ON ct.user_email = b.user_email
            {where_clause}
            """
```

# ë

ì»¤ë®¤ë‹ˆí‹° ê¸°ëŠ¥ì€ ë‚´ë¶€ ê´€ê³„ì ê¸°ì¤€ìœ¼ë¡œ ì™„ì„±ë˜ì—ˆì§€ë§Œ, ë‹¤ìŒê³¼ ê°™ì€ ì´ìœ ë¡œ **íì§€ë˜ì—ˆìŠµë‹ˆë‹¤.**

1. **ì»¤ë®¤ë‹ˆí‹° ê´€ë¦¬ìì˜ ë¶€ì¬**  
   24ì‹œê°„ ìƒì£¼í•˜ë©° ê´€ë¦¬í•  ì¸ë ¥ì´ ì—†ì—ˆìŠµë‹ˆë‹¤.  
   (ì‹ ê³ ê°€ ë§ì„ ê²½ìš° ì•Œë¦¼ì„ ë°›ì•„ ì²˜ë¦¬í•˜ëŠ” ë°©ì•ˆë„ ê³ ë ¤í–ˆì§€ë§Œ, í™•ì‹¤í•œ ë°©ë²•ì´ ì•„ë‹ˆë¼ íŒë‹¨í–ˆìŠµë‹ˆë‹¤.)

2. **ê¸°ëŠ¥ì˜ ë¶ˆì•ˆì •ì„±**  
   ì œê°€ ê¸°ëŠ¥ì„ ì¶©ë¶„íˆ ì•ˆì •ì ìœ¼ë¡œ ë§Œë“¤ì§€ ëª»í–ˆë˜ ê²ƒ ê°™ìŠµë‹ˆë‹¤.  
   (ëª¨ë“  ê¸°ëŠ¥ì— ì˜ˆì™¸ ì²˜ë¦¬ëŠ” ë˜ì–´ ìˆì§€ë§Œ, UX ê²½í—˜ì„ ìœ„í•´ì„œëŠ” ë³´ë‹¤ ê³ ë„í™”ëœ ì˜ˆì™¸ ì²˜ë¦¬ê°€ í•„ìš”í•˜ë‹¤ê³  ëŠê¼ˆìŠµë‹ˆë‹¤.)

3. **í”„ë¡œì„¸ìŠ¤ í™•ë¦½ì˜ ë¶€ì¡±**  
   ê°œë°œ ì¸ë ¥ì´ ì € í˜¼ìì˜€ê¸° ë•Œë¬¸ì—, ë‹¤ì–‘í•œ ìœ ìŠ¤ì¼€ì´ìŠ¤ë¥¼ ì¶©ë¶„íˆ ì»¤ë²„í•˜ì§€ ëª»í–ˆìŠµë‹ˆë‹¤.

ì•„ì§ ì»¤ë®¤ë‹ˆí‹° ê¸°ëŠ¥ì— ëŒ€í•œ ë…¼ì˜ê°€ ì¬ê°œë˜ì§€ëŠ” ì•Šì•˜ìŠµë‹ˆë‹¤.  
í•˜ì§€ë§Œ ê°œì¸ì ìœ¼ë¡œëŠ” í•´ë‹¹ ê¸°ëŠ¥ì— ëŒ€í•´ ê³„ì†í•´ì„œ ê³ ë¯¼í•˜ê³  ìˆìŠµë‹ˆë‹¤.

ë§Œì•½ ì‚¬ìš©ì ì—¬ëŸ¬ë¶„ì˜ í”¼ë“œë°±ì„ í†µí•´ ì»¤ë®¤ë‹ˆí‹° ê¸°ëŠ¥ì— ëŒ€í•œ ìˆ˜ìš”ê°€ í™•ì¸ëœë‹¤ë©´,  
**ìš°ë¦¬ëŠ” ë‹¤ì‹œ ì´ ê¸°ëŠ¥ì„ ê¸°íší•˜ê³  ê°œë°œí•  ê²ƒì…ë‹ˆë‹¤.**

**ğŸ™ ì´ˆê¸° ë²„ì „ë³´ë‹¤ í›¨ì”¬ ë” ë°œì „ëœ í˜•íƒœë¡œ ëŒì•„ì˜¤ê² ìŠµë‹ˆë‹¤.**
